import{Ab as K,Bb as R,Ca as A,Db as x,Fa as s,Fb as a,Gb as B,Nb as $,Pa as C,Ua as k,Vb as Q,Xb as b,Y as u,Yb as I,Z as f,c as L,cb as F,db as T,fb as O,ga as p,gb as w,hb as j,ib as U,jb as z,kb as D,lb as m,mb as g,nb as y,ob as r,pb as l,qb as Y,rb as P,sb as v,vb as h,wb as _,xb as c,zb as H}from"./chunk-BPFOLRV5.js";var E=class i{searchTerm=I("");sortBy=I("name");sortOrder=I("desc");searchChange=b();sortByChange=b();sortOrderChange=b();onSearchChange(t){let e=t.target;this.searchChange.emit(e.value)}onSortByChange(t){let e=t.target;this.sortByChange.emit(e.value)}onSortOrderChange(t){let e=t.target;this.sortOrderChange.emit(e.value)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["ib-image-filters"]],inputs:{searchTerm:[1,"searchTerm"],sortBy:[1,"sortBy"],sortOrder:[1,"sortOrder"]},outputs:{searchChange:"searchChange",sortByChange:"sortByChange",sortOrderChange:"sortOrderChange"},decls:14,vars:3,consts:[[1,"filters"],["type","text","placeholder","Search images...",1,"search-input",3,"input","value"],[1,"sort-select",3,"change","value"],["value","name"],["value","date"],["value","size"],["value","desc"],["value","asc"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"input",1),_("input",function(d){return n.onSearchChange(d)}),l(),r(2,"select",2),_("change",function(d){return n.onSortByChange(d)}),r(3,"option",3),a(4,"Sort by Name"),l(),r(5,"option",4),a(6,"Sort by Date"),l(),r(7,"option",5),a(8,"Sort by Size"),l()(),r(9,"select",2),_("change",function(d){return n.onSortOrderChange(d)}),r(10,"option",6),a(11,"Descending"),l(),r(12,"option",7),a(13,"Ascending"),l()()()),e&2&&(s(),v("value",n.searchTerm()),s(),v("value",n.sortBy()),s(7),v("value",n.sortOrder()))},styles:[".filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}.filters[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;min-width:200px;padding:.75rem 1rem;border:1px solid var(--input-border);border-radius:6px;font-size:1rem;background:var(--input-bg);color:var(--text-primary);transition:border-color .2s}.filters[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--button-primary)}.filters[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.filters[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid var(--input-border);border-radius:6px;font-size:1rem;background:var(--input-bg);color:var(--text-primary);cursor:pointer;transition:border-color .2s;min-width:140px}.filters[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--button-primary)}@media (max-width: 768px){.filters[_ngcontent-%COMP%]{flex-direction:column}.filters[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0})};function G(i,t){i&1&&(r(0,"label",12)(1,"div",20),a(2,"\u{1F4C1}"),l(),r(3,"div",21)(4,"span",22),a(5,"Choose Image File"),l(),r(6,"span",23),a(7,"Click to browse or drag and drop"),l()()())}function J(i,t){if(i&1){let e=P();r(0,"div",13)(1,"div",24)(2,"div",25),a(3,"\u{1F5BC}\uFE0F"),l(),r(4,"div",26)(5,"span",27),a(6),l(),r(7,"span",28),a(8),l()()(),r(9,"button",29),_("click",function(){u(e);let o=c(2);return f(o.changeFile())}),a(10," Change File "),l()()}if(i&2){let e,n,o=c(2);s(6),B((e=o.selectedFile())==null?null:e.name),s(2),B(o.formatFileSize(((n=o.selectedFile())==null?null:n.size)||0))}}function X(i,t){if(i&1&&(r(0,"div",14),Y(1,"img",30),l()),i&2){let e=c(2);s(),v("src",e.previewUrl(),A)}}function Z(i,t){if(i&1){let e=P();r(0,"div",1),_("click",function(){u(e);let o=c();return f(o.closeDialog())}),r(1,"div",2),_("click",function(o){return u(e),f(o.stopPropagation())}),r(2,"div",3)(3,"h2"),a(4,"Upload New Image"),l(),r(5,"button",4),_("click",function(){u(e);let o=c();return f(o.closeDialog())}),a(6,"\xD7"),l()(),r(7,"div",5)(8,"div",6)(9,"label",7),a(10,"Name:"),l(),r(11,"input",8),_("input",function(o){u(e);let d=c();return f(d.onNameInput(o))}),l()(),r(12,"div",6)(13,"label",9),a(14,"Upload Image:"),l(),r(15,"div",10)(16,"input",11),_("change",function(o){u(e);let d=c();return f(d.onFileSelected(o))}),l(),O(17,G,8,0,"label",12)(18,J,11,2,"div",13),l(),O(19,X,2,1,"div",14),l(),r(20,"div",6)(21,"label"),a(22,"Device:"),l(),r(23,"div",15)(24,"div",16),_("click",function(){u(e);let o=c();return f(o.selectDevice("web"))}),a(25," Web "),l(),r(26,"div",16),_("click",function(){u(e);let o=c();return f(o.selectDevice("mobile"))}),a(27," Mobile "),l()()()(),r(28,"div",17)(29,"button",18),_("click",function(){u(e);let o=c();return f(o.closeDialog())}),a(30,"Cancel"),l(),r(31,"button",19),_("click",function(){u(e);let o=c();return f(o.uploadImage())}),a(32," Upload Image "),l()()()()}if(i&2){let e=c();s(11),v("value",e.imageName()),s(6),w(e.selectedFile()?18:17),s(2),w(e.previewUrl()?19:-1),s(5),x("selected",e.isDeviceSelected("web"))("device-web",!0),s(2),x("selected",e.isDeviceSelected("mobile"))("device-mobile",!0),s(5),x("disabled",!e.isFormValid()),v("disabled",!e.isFormValid())}}var M=class i{imageUploaded=b();dialogClosed=b();currentUser=p("admin");showDialog=p(!1);imageName=p("");selectedFile=p(null);selectedDevice=p("");previewUrl=p("");isFormValid=Q(()=>this.imageName().trim()&&this.selectedFile()&&this.selectedDevice().trim()!=="");openDialog(){this.showDialog.set(!0),this.resetForm()}closeDialog(){this.showDialog.set(!1),this.resetForm(),this.dialogClosed.emit()}resetForm(){this.imageName.set(""),this.selectedFile.set(null),this.selectedDevice.set(""),this.previewUrl.set("")}onNameInput(t){let e=t.target;this.imageName.set(e.value)}onFileSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let n=e.files[0];if(this.selectedFile.set(n),!this.imageName().trim()){let d=n.name.replace(/\.[^/.]+$/,"");this.imageName.set(d)}let o=new FileReader;o.onload=()=>{this.previewUrl.set(o.result)},o.readAsDataURL(n)}selectDevice(t){this.selectedDevice.set(t)}isDeviceSelected(t){return this.selectedDevice()===t}uploadImage(){return L(this,null,function*(){if(!this.isFormValid()||!this.selectedFile())return;let t=this.selectedFile(),n=new Date().toISOString().slice(0,16),o=yield this.getImageResolution(this.previewUrl()),d={id:Date.now(),name:this.imageName().trim(),url:this.previewUrl(),size:this.formatFileSize(t.size),resolution:o,uploadedAt:n,device:[this.selectedDevice()],author:this.currentUser()};this.imageUploaded.emit(d),this.closeDialog()})}changeFile(){let t=document.getElementById("image-file");t&&t.click()}formatFileSize(t){return t>=1024*1024?(t/(1024*1024)).toFixed(1)+" MB":t>=1024?(t/1024).toFixed(0)+" KB":t+" B"}getImageResolution(t){return new Promise(e=>{let n=new Image;n.onload=()=>{e(`${n.width} \xD7 ${n.height}`)},n.onerror=()=>{e("Unknown")},n.src=t})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["ib-image-upload-dialog"]],outputs:{imageUploaded:"imageUploaded",dialogClosed:"dialogClosed"},decls:1,vars:1,consts:[[1,"dialog-overlay"],[1,"dialog-overlay",3,"click"],[1,"dialog-content",3,"click"],[1,"dialog-header"],[1,"close-btn",3,"click"],[1,"dialog-body"],[1,"form-group"],["for","image-name"],["type","text","id","image-name","placeholder","Enter image name...",1,"form-input",3,"input","value"],["for","image-file"],[1,"file-upload-container"],["type","file","id","image-file","accept","image/*",1,"file-input",3,"change"],["for","image-file",1,"file-upload-area"],[1,"file-selected"],[1,"image-preview"],[1,"device-selector"],[1,"device-select-chip",3,"click"],[1,"dialog-footer"],[1,"cancel-btn",3,"click"],[1,"submit-btn",3,"click","disabled"],[1,"upload-icon"],[1,"upload-text"],[1,"upload-title"],[1,"upload-subtitle"],[1,"file-info"],[1,"file-icon"],[1,"file-details"],[1,"file-name"],[1,"file-size"],["type","button",1,"change-file-btn",3,"click"],["alt","Preview",3,"src"]],template:function(e,n){e&1&&O(0,Z,33,14,"div",0),e&2&&w(n.showDialog()?0:-1)},styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.dialog-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:80vh;overflow-y:auto;box-shadow:0 4px 20px #0000004d}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #eee}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{color:#333}.dialog-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#333}.form-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;font-family:inherit}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.file-upload-container[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;transition:all .3s ease}.file-input[_ngcontent-%COMP%]{display:none}.file-upload-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:2px dashed #dee2e6;border-radius:12px;cursor:pointer;transition:all .3s ease;text-decoration:none;min-height:120px}.file-upload-area[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e3f2fd,#bbdefb);border-color:#2196f3;transform:translateY(-2px);box-shadow:0 8px 25px #2196f326}.file-upload-area[_ngcontent-%COMP%]:active{transform:translateY(0)}.upload-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.7;transition:all .3s ease}.file-upload-area[_ngcontent-%COMP%]:hover   .upload-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1.1)}.upload-text[_ngcontent-%COMP%]{text-align:center}.upload-title[_ngcontent-%COMP%]{display:block;font-size:1.1rem;font-weight:600;color:#495057;margin-bottom:.5rem;transition:color .3s ease}.upload-subtitle[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:#6c757d;transition:color .3s ease}.file-upload-area[_ngcontent-%COMP%]:hover   .upload-title[_ngcontent-%COMP%]{color:#1976d2}.file-upload-area[_ngcontent-%COMP%]:hover   .upload-subtitle[_ngcontent-%COMP%]{color:#1565c0}.file-selected[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:linear-gradient(135deg,#e8f5e8,#c8e6c9);border:2px solid #4caf50;border-radius:12px;transition:all .3s ease}.file-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.file-icon[_ngcontent-%COMP%]{font-size:2rem;opacity:.8}.file-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.file-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2e7d32;word-break:break-word}.file-size[_ngcontent-%COMP%]{font-size:.85rem;color:#388e3c;opacity:.8}.change-file-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease}.change-file-btn[_ngcontent-%COMP%]:hover{background:#45a049;transform:translateY(-1px);box-shadow:0 4px 12px #4caf504d}.change-file-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.image-preview[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center;background:#f8f9fa;border-radius:12px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;box-shadow:0 4px 20px #00000026;transition:transform .3s ease}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.device-selector[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.device-select-chip[_ngcontent-%COMP%]{padding:.5rem 1.5rem;border-radius:25px;font-weight:500;font-size:.9rem;cursor:pointer;transition:all .2s ease;border:2px solid transparent;background:#f8f9fa;color:#6c757d;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;min-width:80px}.device-select-chip[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000026}.device-web[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;border-color:#bbdefb}.device-web[_ngcontent-%COMP%]:hover{background:#bbdefb;border-color:#90caf9}.device-web.selected[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2;box-shadow:0 2px 8px #1976d24d}.device-mobile[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2;border-color:#ce93d8}.device-mobile[_ngcontent-%COMP%]:hover{background:#ce93d8;border-color:#ba68c8}.device-mobile.selected[_ngcontent-%COMP%]{background:#7b1fa2;color:#fff;border-color:#7b1fa2;box-shadow:0 2px 8px #7b1fa24d}.device-select-chip.selected[_ngcontent-%COMP%]{transform:translateY(-1px);font-weight:600}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem;border-top:1px solid #eee}.cancel-btn[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]{border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;transition:background .2s}.cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background:#5a6268}.submit-btn[_ngcontent-%COMP%]{background:#00adee;color:#fff}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.submit-btn.disabled[_ngcontent-%COMP%], .submit-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;color:#adb5bd;cursor:not-allowed;opacity:.6}.submit-btn.disabled[_ngcontent-%COMP%]:hover, .submit-btn[_ngcontent-%COMP%]:disabled:hover{background:#6c757d;transform:none}"],changeDetection:0})};var S=class i{uploadDialog;fileSelected=b();openUploadDialog(){this.uploadDialog.openDialog()}onImageUploaded(t){this.fileSelected.emit(t)}onDialogClosed(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["ib-image-upload"]],viewQuery:function(e,n){if(e&1&&H(M,5),e&2){let o;K(o=R())&&(n.uploadDialog=o.first)}},outputs:{fileSelected:"fileSelected"},decls:5,vars:0,consts:[[1,"custom-upload-label",3,"click"],[1,"icon"],[3,"imageUploaded","dialogClosed"]],template:function(e,n){e&1&&(m(0,"button",0),h("click",function(){return n.openUploadDialog()}),m(1,"span",1),a(2,"\u{1F4C1}"),g(),a(3,` Upload Image
`),g(),m(4,"ib-image-upload-dialog",2),h("imageUploaded",function(d){return n.onImageUploaded(d)})("dialogClosed",function(){return n.onDialogClosed()}),g())},dependencies:[M],styles:[".custom-upload-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:var(--button-primary);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s;box-shadow:0 2px 8px #667eea4d}.custom-upload-label[_ngcontent-%COMP%]:hover{background:var(--button-hover);transform:translateY(-1px);box-shadow:0 4px 12px #667eea66}.custom-upload-label[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.custom-upload-label[_ngcontent-%COMP%]   .upload-input[_ngcontent-%COMP%]{display:none}"],changeDetection:0})};var ee=()=>[import("./chunk-HK55MGXU.js").then(i=>i.ImageCardComponent)],te=()=>[import("./chunk-MC5TSIWD.js").then(i=>i.ImagePaginationComponent)],ne=()=>[1,2,3,4,5,6],oe=(i,t)=>t.id;function ie(i,t){if(i&1){let e=P();m(0,"ib-image-card",8),h("imageDelete",function(o){u(e);let d=c(2);return f(d.onImageDelete(o))}),g()}if(i&2){let e=t.$implicit;D("image",e)}}function re(i,t){if(i&1&&(m(0,"div",6),U(1,ie,1,1,"ib-image-card",7,oe),g()),i&2){let e=c();s(),z(e.paginatedImages())}}function ae(i,t){i&1&&(m(0,"div",11),y(1,"div",12),m(2,"div",13),y(3,"div",14)(4,"div",15),g()())}function le(i,t){i&1&&(m(0,"div",9)(1,"div",10),U(2,ae,5,0,"div",11,j),g()()),i&2&&(s(2),z($(0,ne)))}function de(i,t){if(i&1){let e=P();m(0,"ib-image-pagination",16),h("previousPage",function(){u(e);let o=c();return f(o.previousPage())})("nextPage",function(){u(e);let o=c();return f(o.nextPage())}),g()}if(i&2){let e=c();D("currentPage",e.currentPage())("totalPages",e.totalPages())}}function se(i,t){i&1&&(m(0,"div",17),y(1,"div",14),g())}var W=class i{images=p([{id:1,name:"product-1.jpg",url:"https://picsum.photos/300/200?random=1",size:"2.3 MB",resolution:"1920 \xD7 1080",uploadedAt:"2024-01-15T14:30",device:["web"],author:"admin",loaded:!1,error:!1},{id:2,name:"banner-2.png",url:"https://picsum.photos/300/200?random=2",size:"1.8 MB",resolution:"1200 \xD7 630",uploadedAt:"2024-01-14T09:15",device:["mobile"],author:"admin",loaded:!1,error:!1},{id:3,name:"logo.svg",url:"https://picsum.photos/300/200?random=3",size:"45 KB",resolution:"512 \xD7 512",uploadedAt:"2024-01-13T16:45",device:["web"],author:"editor",loaded:!1,error:!1},{id:4,name:"hero-image.jpg",url:"https://picsum.photos/300/200?random=4",size:"3.1 MB",resolution:"2560 \xD7 1440",uploadedAt:"2024-01-12T11:20",device:["web"],author:"admin",loaded:!1,error:!1},{id:5,name:"icon-set.png",url:"https://picsum.photos/300/200?random=5",size:"890 KB",resolution:"1024 \xD7 1024",uploadedAt:"2024-01-11T13:55",device:["mobile"],author:"editor",loaded:!1,error:!1},{id:6,name:"background.jpg",url:"https://picsum.photos/300/200?random=6",size:"2.7 MB",resolution:"1920 \xD7 1080",uploadedAt:"2024-01-10T08:40",device:["web"],author:"admin",loaded:!1,error:!1},{id:7,name:"product-2.jpg",url:"https://picsum.photos/300/200?random=7",size:"2.3 MB",resolution:"1600 \xD7 900",uploadedAt:"2024-01-15T17:25",device:["web"],author:"admin",loaded:!1,error:!1},{id:8,name:"banner-3.png",url:"https://picsum.photos/300/200?random=8",size:"1.8 MB",resolution:"1080 \xD7 1920",uploadedAt:"2024-01-14T10:50",device:["mobile"],author:"admin",loaded:!1,error:!1},{id:9,name:"logo-2.svg",url:"https://picsum.photos/300/200?random=9",size:"45 KB",resolution:"256 \xD7 256",uploadedAt:"2024-01-13T15:10",device:["mobile"],author:"editor",loaded:!1,error:!1},{id:10,name:"hero-image-2.jpg",url:"https://picsum.photos/300/200?random=10",size:"3.1 MB",resolution:"2048 \xD7 1152",uploadedAt:"2024-01-12T12:35",device:["web"],author:"admin",loaded:!1,error:!1},{id:11,name:"icon-set-2.png",url:"https://picsum.photos/300/200?random=11",size:"890 KB",resolution:"512 \xD7 512",uploadedAt:"2024-01-11T14:20",device:["mobile"],author:"editor",loaded:!1,error:!1},{id:12,name:"background-2.jpg",url:"https://picsum.photos/300/200?random=12",size:"2.7 MB",resolution:"1920 \xD7 1080",uploadedAt:"2024-01-10T07:15",device:["web"],author:"admin",loaded:!1,error:!1}]);searchTerm=p("");sortBy=p("name");sortOrder=p("desc");currentPage=p(1);itemsPerPage=p(6);selectedDeviceFilter=p("");filteredImages=p([]);totalPages=p(1);constructor(){this.updateFilteredImages()}updateSearch(t){this.searchTerm.set(t),this.currentPage.set(1),this.updateFilteredImages()}updateSort(t){this.sortBy.set(t),this.updateFilteredImages()}updateSortOrder(t){this.sortOrder.set(t),this.updateFilteredImages()}updateFilteredImages(){let t=this.images().filter(e=>{let n=this.searchTerm().toLowerCase(),o=this.selectedDeviceFilter(),d=!n||e.name.toLowerCase().includes(n)||e.author.toLowerCase().includes(n),q=!o||e.device.includes(o);return d&&q});t.sort((e,n)=>{let o=0;switch(this.sortBy()){case"name":o=e.name.localeCompare(n.name);break;case"date":o=new Date(e.uploadedAt+":00").getTime()-new Date(n.uploadedAt+":00").getTime();break;case"size":o=this.parseSize(e.size)-this.parseSize(n.size);break;default:o=0}return this.sortOrder()==="desc"?-o:o}),this.filteredImages.set([...t]),this.totalPages.set(Math.ceil(t.length/this.itemsPerPage())),this.currentPage.set(1)}paginatedImages(){let t=(this.currentPage()-1)*this.itemsPerPage(),e=t+this.itemsPerPage();return this.filteredImages().slice(t,e)}parseSize(t){let e=parseFloat(t.replace(/[^\d.]/g,""));return t.includes("MB")?e*1024*1024:t.includes("KB")?e*1024:e}previousPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}onFileSelected(t){this.images.set([t,...this.images()]),this.updateFilteredImages()}selectDeviceFilter(t){this.selectedDeviceFilter()===t?this.selectedDeviceFilter.set(""):this.selectedDeviceFilter.set(t),this.currentPage.set(1),this.updateFilteredImages()}isDeviceFilterSelected(t){return this.selectedDeviceFilter()===t}onImageDelete(t){this.images.set(this.images().filter(e=>e.id!==t)),this.updateFilteredImages()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["ib-images"]],decls:21,vars:11,consts:[[1,"images-container"],[1,"header"],[3,"fileSelected"],[3,"searchChange","sortByChange","sortOrderChange","searchTerm","sortBy","sortOrder"],[1,"device-filter-chips"],[1,"device-filter-chip",3,"click"],[1,"images-grid"],[3,"image"],[3,"imageDelete","image"],[1,"loading-placeholder"],[1,"placeholder-grid"],[1,"placeholder-card"],[1,"placeholder-image"],[1,"placeholder-content"],[1,"placeholder-line"],[1,"placeholder-line","short"],[3,"previousPage","nextPage","currentPage","totalPages"],[1,"pagination-placeholder"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Images Management"),g(),m(4,"p"),a(5,"Manage and organize your image assets with search and filtering capabilities."),g(),m(6,"ib-image-upload",2),h("fileSelected",function(d){return n.onFileSelected(d)}),g()(),m(7,"ib-image-filters",3),h("searchChange",function(d){return n.updateSearch(d)})("sortByChange",function(d){return n.updateSort(d)})("sortOrderChange",function(d){return n.updateSortOrder(d)}),g(),m(8,"div",4)(9,"div",5),h("click",function(){return n.selectDeviceFilter("web")}),a(10," \u{1F310} Web "),g(),m(11,"div",5),h("click",function(){return n.selectDeviceFilter("mobile")}),a(12," \u{1F4F1} Mobile "),g()(),k(13,re,3,0)(14,le,4,1),F(15,13,ee,null,14),T(0,-1),k(17,de,1,2)(18,se,2,0),F(19,17,te,null,18),T(0,-1),g()),e&2&&(s(7),D("searchTerm",n.searchTerm())("sortBy",n.sortBy())("sortOrder",n.sortOrder()),s(2),x("selected",n.isDeviceFilterSelected("web"))("device-web",!0),s(2),x("selected",n.isDeviceFilterSelected("mobile"))("device-mobile",!0))},dependencies:[E,S],styles:[".images-container[_ngcontent-%COMP%]{padding:2rem;margin:0 auto;background:var(--bg-primary);min-height:100vh}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--text-primary);margin-bottom:.5rem;font-weight:600}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-bottom:1.5rem}.device-filter-chips[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap}.device-filter-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;border-radius:25px;font-weight:500;font-size:.9rem;cursor:pointer;transition:all .3s ease;border:2px solid transparent;background:#f8f9fa;color:#6c757d;-webkit-user-select:none;user-select:none}.device-filter-chip[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.device-filter-chip.device-web[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;border-color:#bbdefb}.device-filter-chip.device-web[_ngcontent-%COMP%]:hover{background:#bbdefb;border-color:#90caf9}.device-filter-chip.device-web.selected[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2;box-shadow:0 4px 16px #1976d24d}.device-filter-chip.device-mobile[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2;border-color:#ce93d8}.device-filter-chip.device-mobile[_ngcontent-%COMP%]:hover{background:#ce93d8;border-color:#ba68c8}.device-filter-chip.device-mobile.selected[_ngcontent-%COMP%]{background:#7b1fa2;color:#fff;border-color:#7b1fa2;box-shadow:0 4px 16px #7b1fa24d}.device-filter-chip.selected[_ngcontent-%COMP%]{transform:translateY(-2px);font-weight:600}.images-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;margin-bottom:2rem}.loading-placeholder[_ngcontent-%COMP%]{margin-top:2rem}.loading-placeholder[_ngcontent-%COMP%]   .placeholder-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.loading-placeholder[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;overflow:hidden;box-shadow:0 2px 16px var(--shadow-color);height:280px}.loading-placeholder[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]   .placeholder-image[_ngcontent-%COMP%]{height:200px;background:var(--bg-secondary);animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.loading-placeholder[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{padding:1.5rem}.loading-placeholder[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]   .placeholder-line[_ngcontent-%COMP%]{height:1rem;background:var(--bg-secondary);margin-bottom:.5rem;border-radius:4px;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.loading-placeholder[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]   .placeholder-line.short[_ngcontent-%COMP%]{width:60%}.pagination-placeholder[_ngcontent-%COMP%]{margin-top:2rem;display:flex;justify-content:center}.pagination-placeholder[_ngcontent-%COMP%]   .placeholder-line[_ngcontent-%COMP%]{height:2.5rem;width:200px;background:var(--bg-secondary);border-radius:6px;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.images-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.images-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}"],changeDetection:0})};export{W as ImagesComponent};
