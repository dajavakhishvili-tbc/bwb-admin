import{Bb as I,Ea as M,Ja as E,Jb as x,Ta as v,Ua as C,Wa as k,Xa as D,Y as g,Ya as O,Z as u,Za as T,_a as y,a as P,b as w,db as n,eb as i,fb as f,ga as p,gb as b,hb as h,lb as c,mb as m,tb as a,ua as s,ub as _,wb as S}from"./chunk-VQVIJLJF.js";var V=()=>[1,2,3,4,5],A=(d,t)=>t.id;function L(d,t){if(d&1){let e=b();n(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),a(4,"Key:"),i(),n(5,"span",16),a(6),i()(),n(7,"div",14)(8,"span",15),a(9,"English:"),i(),n(10,"span",17),a(11),i()(),n(12,"div",14)(13,"span",15),a(14,"Georgian:"),i(),n(15,"span",17),a(16),i()(),n(17,"div",14)(18,"span",15),a(19,"Created:"),i(),n(20,"span",18),a(21),i()()(),n(22,"div",19)(23,"button",20),c("click",function(){let o=g(e).$implicit,l=m(2);return u(l.openEditDialog(o))}),a(24,"Edit"),i(),n(25,"button",21),c("click",function(){let o=g(e).$implicit,l=m(2);return u(l.deleteText(o))}),a(26,"Delete"),i()()()}if(d&2){let e=t.$implicit;s(6),_(e.key),s(5),_(e.english),s(5),_(e.georgian),s(5),_(e.createdAt)}}function G(d,t){if(d&1&&(n(0,"div",11),T(1,L,27,4,"div",12,A),i()),d&2){let e=m();s(),y(e.filteredTexts())}}function K(d,t){d&1&&(n(0,"div",24)(1,"div",25),f(2,"div",26)(3,"div",26)(4,"div",27),i(),n(5,"div",28),f(6,"div",29)(7,"div",29),i()())}function z(d,t){d&1&&(n(0,"div",22)(1,"div",23),T(2,K,8,0,"div",24,O),i()()),d&2&&(s(2),y(I(0,V)))}function F(d,t){if(d&1){let e=b();n(0,"div",30)(1,"button",31),c("click",function(){g(e);let o=m();return u(o.previousPage())}),a(2," Previous "),i(),n(3,"span",32),a(4),i(),n(5,"button",31),c("click",function(){g(e);let o=m();return u(o.nextPage())}),a(6," Next "),i()()}if(d&2){let e=m();s(),h("disabled",e.currentPage()===1),s(3),S("Page ",e.currentPage()," of ",e.totalPages()),s(),h("disabled",e.currentPage()===e.totalPages())}}function j(d,t){d&1&&(n(0,"div",33),f(1,"div",26),i())}function B(d,t){if(d&1){let e=b();n(0,"div",34),c("click",function(){g(e);let o=m();return u(o.closeDialog())}),n(1,"div",35),c("click",function(o){return g(e),u(o.stopPropagation())}),n(2,"div",36)(3,"h2"),a(4),i(),n(5,"button",37),c("click",function(){g(e);let o=m();return u(o.closeDialog())}),a(6,"\xD7"),i()(),n(7,"div",38)(8,"div",39)(9,"label",40),a(10,"Key:"),i(),n(11,"input",41),c("input",function(o){g(e);let l=m();return u(l.onKeyInput(o))}),i()(),n(12,"div",39)(13,"label",42),a(14,"English Text:"),i(),n(15,"textarea",43),c("input",function(o){g(e);let l=m();return u(l.onEnglishTextInput(o))}),i()(),n(16,"div",39)(17,"label",44),a(18,"Georgian Text:"),i(),n(19,"textarea",45),c("input",function(o){g(e);let l=m();return u(l.onGeorgianTextInput(o))}),i()()(),n(20,"div",46)(21,"button",47),c("click",function(){g(e);let o=m();return u(o.closeDialog())}),a(22,"Cancel"),i(),n(23,"button",48),c("click",function(){g(e);let o=m();return u(o.submitNewText())}),a(24),i()()()()}if(d&2){let e=m();s(4),_(e.isEditing()?"Edit Text":"Add New Text"),s(7),h("value",e.newKey()),s(4),h("value",e.newEnglishText()),s(4),h("value",e.newGeorgianText()),s(5),_(e.isEditing()?"Update Text":"Add Text")}}var N=class d{texts=p([{id:1,key:"welcome",english:"Welcome to our website",georgian:"\u10DB\u10DD\u10D2\u10D4\u10E1\u10D0\u10DA\u10DB\u10D4\u10D1\u10D0\u10D7 \u10E9\u10D5\u10D4\u10DC\u10D8 \u10D5\u10D4\u10D1\u10E1\u10D0\u10D8\u10E2\u10D8",createdAt:"2024-01-15 14:30"},{id:2,key:"about",english:"About Us",georgian:"\u10E9\u10D5\u10D4\u10DC\u10E1 \u10E8\u10D4\u10E1\u10D0\u10EE\u10D4\u10D1",createdAt:"2024-01-14 09:15"},{id:3,key:"contact",english:"Contact Information",georgian:"\u10E1\u10D0\u10D9\u10DD\u10DC\u10E2\u10D0\u10E5\u10E2\u10DD \u10D8\u10DC\u10E4\u10DD\u10E0\u10DB\u10D0\u10EA\u10D8\u10D0",createdAt:"2024-01-13 16:45"},{id:4,key:"services",english:"Services",georgian:"\u10E1\u10D4\u10E0\u10D5\u10D8\u10E1\u10D4\u10D1\u10D8",createdAt:"2024-01-12 11:20"},{id:5,key:"home",english:"Home",georgian:"\u10DB\u10D7\u10D0\u10D5\u10D0\u10E0\u10D8",createdAt:"2024-01-11 13:55"}]);searchTerm=p("");sortBy=p("createdAt");currentPage=p(1);itemsPerPage=p(5);showDialog=p(!1);isEditing=p(!1);editingId=p(null);newKey=p("");newEnglishText=p("");newGeorgianText=p("");filteredTexts=x(()=>{let t=this.searchTerm().toLowerCase();return this.texts().filter(r=>r.key.toLowerCase().includes(t)||r.english.toLowerCase().includes(t)||r.georgian.toLowerCase().includes(t))});sortedTexts=x(()=>{let t=this.filteredTexts(),e=this.sortBy();return[...t].sort((r,o)=>{switch(e){case"key":return r.key.localeCompare(o.key);case"english":return r.english.localeCompare(o.english);case"georgian":return r.georgian.localeCompare(o.georgian);case"createdAt":return new Date(o.createdAt).getTime()-new Date(r.createdAt).getTime();default:return 0}})});totalPages=x(()=>Math.ceil(this.sortedTexts().length/this.itemsPerPage()));paginatedTexts=x(()=>{let t=this.sortedTexts(),e=this.currentPage(),r=this.itemsPerPage(),o=(e-1)*r,l=o+r;return t.slice(o,l)});hasPreviousPage=x(()=>this.currentPage()>1);hasNextPage=x(()=>this.currentPage()<this.totalPages());isFormValid=x(()=>this.newKey().trim()&&this.newEnglishText().trim()&&this.newGeorgianText().trim());dialogTitle=x(()=>this.isEditing()?"Edit Text":"Add New Text");submitButtonText=x(()=>this.isEditing()?"Update":"Add");constructor(){this.searchTerm.set("")}updateSearch(t){let e=t.target;this.searchTerm.set(e.value),this.currentPage.set(1)}updateSort(t){let e=t.target;this.sortBy.set(e.value),this.currentPage.set(1)}openAddDialog(){this.showDialog.set(!0),this.isEditing.set(!1),this.editingId.set(null),this.resetForm()}openEditDialog(t){this.showDialog.set(!0),this.isEditing.set(!0),this.editingId.set(t.id),this.newKey.set(t.key),this.newEnglishText.set(t.english),this.newGeorgianText.set(t.georgian)}closeDialog(){this.showDialog.set(!1),this.isEditing.set(!1),this.editingId.set(null),this.resetForm()}resetForm(){this.newKey.set(""),this.newEnglishText.set(""),this.newGeorgianText.set("")}submitNewText(){this.isFormValid()&&(this.isEditing()?this.updateExistingText():this.addNewText(),this.closeDialog())}updateExistingText(){let t=this.editingId();t&&this.texts.set(this.texts().map(e=>e.id===t?w(P({},e),{key:this.newKey().trim(),english:this.newEnglishText().trim(),georgian:this.newGeorgianText().trim()}):e))}addNewText(){let t=new Date,e=t.toISOString().slice(0,10),r=t.toTimeString().slice(0,5),o=`${e} ${r}`,l={id:this.generateNextId(),key:this.newKey().trim(),english:this.newEnglishText().trim(),georgian:this.newGeorgianText().trim(),createdAt:o};this.texts.set([l,...this.texts()])}generateNextId(){let t=this.texts();return t.length>0?Math.max(...t.map(e=>e.id))+1:1}previousPage(){this.hasPreviousPage()&&this.currentPage.set(this.currentPage()-1)}nextPage(){this.hasNextPage()&&this.currentPage.set(this.currentPage()+1)}selectText(t){console.log("Selected text:",t)}deleteText(t){this.texts.set(this.texts().filter(e=>e.id!==t.id)),this.paginatedTexts().length===0&&this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}onKeyInput(t){let e=t.target;this.newKey.set(e.value)}onEnglishTextInput(t){let e=t.target;this.newEnglishText.set(e.value)}onGeorgianTextInput(t){let e=t.target;this.newGeorgianText.set(e.value)}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=M({type:d,selectors:[["ib-texts"]],decls:26,vars:3,consts:[[1,"texts-container"],[1,"header"],[1,"add-btn",3,"click"],[1,"filters"],["type","text","placeholder","Search texts...",1,"search-input",3,"input","value"],[1,"sort-select",3,"change","value"],["value","createdAt"],["value","key"],["value","english"],["value","georgian"],[1,"dialog-overlay"],[1,"texts-list"],[1,"text-card"],[1,"text-content"],[1,"text-row"],[1,"label"],[1,"text-key"],[1,"text"],[1,"date"],[1,"text-actions"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"loading-placeholder"],[1,"placeholder-list"],[1,"placeholder-text-card"],[1,"placeholder-content"],[1,"placeholder-line"],[1,"placeholder-line","short"],[1,"placeholder-actions"],[1,"placeholder-btn"],[1,"pagination"],[1,"page-btn",3,"click","disabled"],[1,"page-info"],[1,"pagination-placeholder"],[1,"dialog-overlay",3,"click"],[1,"dialog-content",3,"click"],[1,"dialog-header"],[1,"close-btn",3,"click"],[1,"dialog-body"],[1,"form-group"],["for","text-key"],["type","text","id","text-key","placeholder","Enter key...",1,"form-input",3,"input","value"],["for","english-text"],["id","english-text","placeholder","Enter English text...","rows","3",3,"input","value"],["for","georgian-text"],["id","georgian-text","placeholder","\u10E8\u10D4\u10D8\u10E7\u10D5\u10D0\u10DC\u10D4\u10D7 \u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8 \u10E2\u10D4\u10E5\u10E1\u10E2\u10D8...","rows","3",3,"input","value"],[1,"dialog-footer"],[1,"cancel-btn",3,"click"],[1,"submit-btn",3,"click"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Texts Management"),i(),n(4,"button",2),c("click",function(){return r.openAddDialog()}),a(5,"Add New Text"),i()(),n(6,"div",3)(7,"input",4),c("input",function(l){return r.updateSearch(l)}),i(),n(8,"select",5),c("change",function(l){return r.updateSort(l)}),n(9,"option",6),a(10,"Sort by Date"),i(),n(11,"option",7),a(12,"Sort by Key"),i(),n(13,"option",8),a(14,"Sort by English"),i(),n(15,"option",9),a(16,"Sort by Georgian"),i()()(),E(17,G,3,0)(18,z,4,1),v(19,17,null,null,18),C(0,-1),E(21,F,7,4)(22,j,2,0),v(23,21,null,null,22),C(0,-1),i(),k(25,B,25,5,"div",10)),e&2&&(s(7),h("value",r.searchTerm()),s(),h("value",r.sortBy()),s(17),D(r.showDialog()?25:-1))},styles:[".texts-container[_ngcontent-%COMP%]{padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}h1[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--text-primary)}.add-btn[_ngcontent-%COMP%]{background:var(--button-primary);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:1rem;cursor:pointer;transition:background .2s}.add-btn[_ngcontent-%COMP%]:hover{background:var(--button-hover)}.filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}.search-input[_ngcontent-%COMP%], .sort-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid var(--border-color);border-radius:6px;font-size:1rem;background:var(--input-bg);color:var(--text-primary)}.search-input[_ngcontent-%COMP%]{flex:1}.texts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.text-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:8px;padding:1.5rem;box-shadow:0 2px 10px var(--shadow-color);display:flex;justify-content:space-between;align-items:flex-start;transition:transform .2s}.text-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.text-content[_ngcontent-%COMP%]{flex:1}.text-row[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;align-items:flex-start}.text-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);min-width:80px;margin-right:1rem}.text-key[_ngcontent-%COMP%]{color:var(--button-primary);font-weight:500;font-family:Courier New,monospace;flex:1;word-break:break-word}.text[_ngcontent-%COMP%]{color:var(--text-primary);flex:1;word-break:break-word}.date[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.9rem}.text-actions[_ngcontent-%COMP%]{margin-left:1rem;display:flex;gap:.5rem}.edit-btn[_ngcontent-%COMP%]{background:#ffc107;color:var(--text-primary);border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;transition:background .2s;font-size:.9rem}.edit-btn[_ngcontent-%COMP%]:hover{background:#e0a800}.delete-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;transition:background .2s;font-size:.9rem}.delete-btn[_ngcontent-%COMP%]:hover{background:#c82333}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem}.page-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #ddd;padding:.5rem 1rem;border-radius:4px;cursor:pointer;transition:background .2s}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.loading-placeholder[_ngcontent-%COMP%]{margin-bottom:2rem}.placeholder-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.placeholder-text-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 10px #0000001a;display:flex;justify-content:space-between;align-items:flex-start;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.placeholder-content[_ngcontent-%COMP%]{flex:1}.placeholder-line[_ngcontent-%COMP%]{height:12px;background:#f0f0f0;border-radius:4px;margin-bottom:.5rem;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.placeholder-line.short[_ngcontent-%COMP%]{width:40%}.placeholder-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.placeholder-btn[_ngcontent-%COMP%]{width:60px;height:32px;background:#f0f0f0;border-radius:4px;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.pagination-placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.dialog-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:80vh;overflow-y:auto;box-shadow:0 4px 20px #0000004d}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #eee}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{color:#333}.dialog-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#333}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;font-size:1rem;font-family:inherit;resize:vertical;min-height:80px}.form-input[_ngcontent-%COMP%]{min-height:auto;resize:none}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1.5rem;border-top:1px solid #eee}.cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;transition:background .2s}.cancel-btn[_ngcontent-%COMP%]:hover{background:#5a6268}.submit-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;transition:background .2s}.submit-btn[_ngcontent-%COMP%]:hover{background:#218838}"],changeDetection:0})};export{N as TextsComponent};
