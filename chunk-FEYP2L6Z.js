import{b as W,c as H,d as R,e as j,f as U,g as G,j as Y,k as E}from"./chunk-Z7W7EUWU.js";import{j as q}from"./chunk-4J2MB5AO.js";import{Cb as z,Eb as D,Fa as p,Gb as s,Hb as b,Ib as v,Kb as O,Lb as y,Mb as T,Pa as M,Qb as A,Rb as I,Wb as P,Y as l,Yb as h,Z as d,Zb as x,a as k,fb as S,ga as u,gb as V,ib as B,jb as N,kb as w,lb as i,mb as a,rb as f,vb as m,xb as g}from"./chunk-H4S5QQGY.js";function Z(c,o){if(c&1){let t=f();i(0,"div",7)(1,"div",8),s(2,"\u26A0\uFE0F"),a(),i(3,"h3"),s(4,"Are you sure you want to delete this page?"),a(),i(5,"p",9),s(6),a(),i(7,"p",10),s(8," This action cannot be undone. The page and all its configurations will be permanently removed. "),a()(),i(9,"div",11)(10,"button",12),m("click",function(){l(t);let e=g(2);return d(e.close.emit())}),s(11," Cancel "),a(),i(12,"button",13),m("click",function(){l(t);let e=g(2);return d(e.delete.emit())}),s(13," Delete Page "),a()()}if(c&2){let t=g(2);p(6),b(t.selectedPageTitle())}}function $(c,o){if(c&1){let t=f();i(0,"form",14,0),m("ngSubmit",function(){l(t);let e=g(2);return d(e.save.emit(e.dialogForm()))}),i(2,"div",15)(3,"label",16),s(4,"Page Title"),a(),i(5,"input",17),T("ngModelChange",function(e){l(t);let r=g(2);return y(r.dialogForm().title,e)||(r.dialogForm().title=e),d(e)}),m("ngModelChange",function(){l(t);let e=g(2);return d(e.formChange.emit(e.dialogForm()))}),a()(),i(6,"div",15)(7,"label",18),s(8,"Description"),a(),i(9,"textarea",19),T("ngModelChange",function(e){l(t);let r=g(2);return y(r.dialogForm().description,e)||(r.dialogForm().description=e),d(e)}),m("ngModelChange",function(){l(t);let e=g(2);return d(e.formChange.emit(e.dialogForm()))}),a()(),i(10,"div",15)(11,"label",20),s(12,"PostHog Event Name"),a(),i(13,"input",21),T("ngModelChange",function(e){l(t);let r=g(2);return y(r.dialogForm().posthogEvent,e)||(r.dialogForm().posthogEvent=e),d(e)}),m("ngModelChange",function(){l(t);let e=g(2);return d(e.formChange.emit(e.dialogForm()))}),a(),i(14,"small",22),s(15,"Use snake_case format for event names"),a()(),i(16,"div",11)(17,"button",12),m("click",function(){l(t);let e=g(2);return d(e.close.emit())}),s(18," Cancel "),a(),i(19,"button",23),s(20),a()()()}if(c&2){let t=z(1),n=g(2);p(5),O("ngModel",n.dialogForm().title),p(4),O("ngModel",n.dialogForm().description),p(4),O("ngModel",n.dialogForm().posthogEvent),p(6),w("disabled",!t.form.valid),p(),v(" ",n.saveButtonText()," ")}}function ee(c,o){if(c&1){let t=f();i(0,"div",2),m("click",function(){l(t);let e=g();return d(e.close.emit())}),i(1,"div",3),m("click",function(e){return l(t),d(e.stopPropagation())}),i(2,"div",4)(3,"h2"),s(4),a(),i(5,"button",5),m("click",function(){l(t);let e=g();return d(e.close.emit())}),s(6,"\xD7"),a()(),i(7,"div",6),S(8,Z,14,1)(9,$,21,5,"form"),a()()()}if(c&2){let t=g();p(),D("delete-dialog",t.isDeleteDialog()),p(3),b(t.dialogTitle()),p(4),V(t.isDeleteDialog()?8:9)}}var F=class c{dialogType=x("add");selectedPage=x(null);dialogForm=x({title:"",description:"",posthogEvent:""});isOpen=x(!1);close=h();save=h();delete=h();formChange=h();dialogTitleMap={add:"Add New Page",edit:"Edit Page",delete:"Delete Page"};dialogTitle=P(()=>this.dialogTitleMap[this.dialogType()]??"");saveButtonText=P(()=>this.dialogType()==="edit"?"Update Page":"Add Page");isDeleteDialog=P(()=>this.dialogType()==="delete");selectedPageTitle=P(()=>this.selectedPage()?.title);static \u0275fac=function(t){return new(t||c)};static \u0275cmp=M({type:c,selectors:[["ib-page-dialog"]],inputs:{dialogType:[1,"dialogType"],selectedPage:[1,"selectedPage"],dialogForm:[1,"dialogForm"],isOpen:[1,"isOpen"]},outputs:{close:"close",save:"save",delete:"delete",formChange:"formChange"},decls:1,vars:1,consts:[["pageForm","ngForm"],[1,"dialog-overlay"],[1,"dialog-overlay",3,"click"],[1,"dialog",3,"click"],[1,"dialog-header"],[1,"close-btn",3,"click"],[1,"dialog-content"],[1,"delete-warning"],[1,"warning-icon"],[1,"page-title"],[1,"warning-text"],[1,"dialog-actions"],["type","button",1,"btn-secondary",3,"click"],["type","button",1,"btn-danger",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","required","","placeholder","Enter page title",1,"form-input",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","required","","placeholder","Enter page description","rows","3",1,"form-textarea",3,"ngModelChange","ngModel"],["for","posthogEvent"],["type","text","id","posthogEvent","name","posthogEvent","required","","placeholder","e.g., business_loan_conditions_viewed",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-hint"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(t,n){t&1&&S(0,ee,10,4,"div",1),t&2&&V(n.isOpen()?0:-1)},dependencies:[E,G,W,H,R,Y,U,j],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.dialog[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 8px 32px var(--shadow-color);max-width:500px;width:100%;max-height:90vh;overflow-y:auto}.dialog.delete-dialog[_ngcontent-%COMP%]{max-width:450px}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--border-color)}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary);margin:0}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;color:var(--text-muted);cursor:pointer;padding:.25rem;border-radius:4px;transition:color .2s}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.dialog-content[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--input-border);border-radius:6px;background:var(--input-bg);color:var(--text-primary);font-size:1rem;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--button-primary)}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .form-hint[_ngcontent-%COMP%]{display:block;margin-top:.25rem;font-size:.875rem;color:var(--text-muted)}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.dialog-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}.dialog-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary)}.dialog-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:var(--bg-tertiary)}.dialog-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:var(--button-primary);color:#fff}.dialog-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--button-hover)}.dialog-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.dialog-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.dialog-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.delete-warning[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.delete-warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.delete-warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--text-primary);margin-bottom:.5rem;font-weight:600}.delete-warning[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-primary);font-weight:600;margin-bottom:1rem;padding:.75rem;background:var(--bg-secondary);border-radius:6px;border-left:4px solid #dc3545}.delete-warning[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.5;margin-bottom:0}"],changeDetection:0})};var te=(c,o)=>o.id;function ne(c,o){if(c&1){let t=f();i(0,"div",7),m("dragstart",function(e){let r=l(t).$implicit,C=g();return d(C.onDragStart(e,r))})("dragover",function(e){l(t);let r=g();return d(r.onDragOver(e))})("dragenter",function(e){l(t);let r=g();return d(r.onDragEnter(e))})("dragleave",function(e){l(t);let r=g();return d(r.onDragLeave(e))})("drop",function(e){let r=l(t).$implicit,C=g();return d(C.onDrop(e,r))})("dragend",function(e){l(t);let r=g();return d(r.onDragEnd(e))}),i(1,"div",8)(2,"h3"),s(3),a(),i(4,"div",9)(5,"button",10),m("click",function(){let e=l(t).$implicit,r=g();return d(r.editPage(e))}),i(6,"span",3),s(7,"\u270F\uFE0F"),a()(),i(8,"button",11),m("click",function(){let e=l(t).$implicit,r=g();return d(r.deletePage(e))}),i(9,"span",3),s(10,"\u{1F5D1}\uFE0F"),a()()()(),i(11,"div",12)(12,"p",13),s(13),a(),i(14,"div",14)(15,"span",15)(16,"strong"),s(17,"PostHog Event:"),a(),s(18),a(),i(19,"span",16),s(20),A(21,"date"),a()()()()}if(c&2){let t,n=o.$implicit,e=g();D("dragging",((t=e.draggedPage())==null?null:t.id)===n.id),p(3),b(n.title),p(10),b(n.description),p(5),v(" ",n.posthogEvent," "),p(2),v(" Created: ",I(21,6,n.createdAt,"shortDate")," ")}}var J=class c{pages=u([{id:"business-loan-offer-details",title:"Business Loan Offer Details",description:"Detailed information about business loan offers",posthogEvent:"business_loan_offer_details_viewed",createdAt:new Date("2024-01-16")},{id:"business-loan-offer-request",title:"Business Loan Offer Request",description:"Request form for business loan offers",posthogEvent:"business_loan_offer_request_viewed",createdAt:new Date("2024-01-16")},{id:"business-loan-request-loader",title:"Business Loan Request Loader",description:"Loading interface for business loan requests",posthogEvent:"business_loan_request_loader_viewed",createdAt:new Date("2024-01-16")},{id:"business-loan-details",title:"Business Loan Application Details",description:"Comprehensive details about business loans",posthogEvent:"business_loan_details_viewed",createdAt:new Date("2024-01-15")},{id:"business-loan-signatures",title:"Business Loan Signatures",description:"Digital signature interface for business loans",posthogEvent:"business_loan_signatures_viewed",createdAt:new Date("2024-01-15")},{id:"business-loan-insurance",title:"Business Loan Insurance",description:"Insurance options and coverage for business loans",posthogEvent:"business_loan_insurance_viewed",createdAt:new Date("2024-01-15")},{id:"business-loan-conditions",title:"Business Loan Conditions",description:"Terms and conditions for business loans",posthogEvent:"business_loan_conditions_viewed",createdAt:new Date("2024-01-15")},{id:"business-loan-agreements",title:"Business Loan Agreements",description:"Legal agreements and contracts for business loans",posthogEvent:"business_loan_agreements_viewed",createdAt:new Date("2024-01-15")},{id:"business-loan-authorization",title:"Business Loan Authorization",description:"Authorization for business loans",posthogEvent:"business_loan_auth_view",createdAt:new Date("2024-01-15")}]);showDialog=u(!1);dialogType=u("add");selectedPage=u(null);draggedPage=u(null);dialogForm=u({title:"",description:"",posthogEvent:""});addNewPage(){this.dialogForm.set({title:"",description:"",posthogEvent:""}),this.selectedPage.set(null),this.dialogType.set("add"),this.showDialog.set(!0)}editPage(o){this.dialogForm.set({title:o.title,description:o.description,posthogEvent:o.posthogEvent}),this.selectedPage.set(o),this.dialogType.set("edit"),this.showDialog.set(!0)}deletePage(o){this.selectedPage.set(o),this.dialogType.set("delete"),this.showDialog.set(!0)}onDialogSave(o){let t=this.selectedPage();if(t){let n=this.pages().map(e=>e.id===t.id?k(k({},e),o):e);this.pages.set(n)}else{let n={id:this.generatePageId(o.title),title:o.title,description:o.description,posthogEvent:o.posthogEvent,createdAt:new Date};this.pages.set([n,...this.pages()])}this.closeDialog()}onDialogDelete(){let o=this.selectedPage();if(o){let t=this.pages().filter(n=>n.id!==o.id);this.pages.set(t)}this.closeDialog()}closeDialog(){this.showDialog.set(!1),this.selectedPage.set(null),this.dialogForm.set({title:"",description:"",posthogEvent:""})}onDragStart(o,t){o.dataTransfer&&(o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("text/plain",t.id),this.draggedPage.set(t))}onDragOver(o){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="move")}onDragEnter(o){o.preventDefault(),o.currentTarget.classList.add("drag-over")}onDragLeave(o){o.currentTarget.classList.remove("drag-over")}onDrop(o,t){o.preventDefault(),o.currentTarget.classList.remove("drag-over");let e=this.draggedPage();if(!e||e.id===t.id){this.draggedPage.set(null);return}let r=this.pages(),C=r.findIndex(_=>_.id===e.id),L=r.findIndex(_=>_.id===t.id);if(C!==-1&&L!==-1){let _=[...r],[K]=_.splice(C,1);_.splice(L,0,K),this.pages.set(_)}this.draggedPage.set(null)}onDragEnd(o){this.draggedPage.set(null),o.currentTarget.classList.remove("drag-over")}generatePageId(o){return o.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=M({type:c,selectors:[["ib-business-loan"]],decls:14,vars:4,consts:[[1,"business-loan-container"],[1,"header"],[1,"add-page-btn",3,"click"],[1,"icon"],[1,"pages-grid"],["draggable","true",1,"page-card",3,"dragging"],[3,"close","save","delete","formChange","dialogType","selectedPage","dialogForm","isOpen"],["draggable","true",1,"page-card",3,"dragstart","dragover","dragenter","dragleave","drop","dragend"],[1,"page-header"],[1,"page-actions"],["title","Edit page",1,"action-btn","edit",3,"click"],["title","Delete page",1,"action-btn","delete",3,"click"],[1,"page-content"],[1,"description"],[1,"page-meta"],[1,"posthog-event"],[1,"created-date"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),s(3,"Business Loan Pages"),a(),i(4,"p"),s(5,"Manage pages and their configurations for the business loan section."),a(),i(6,"button",2),m("click",function(){return n.addNewPage()}),i(7,"span",3),s(8,"+"),a(),s(9," Add New Page "),a()(),i(10,"div",4),B(11,ne,22,9,"div",5,te),a(),i(13,"ib-page-dialog",6),m("close",function(){return n.closeDialog()})("save",function(r){return n.onDialogSave(r)})("delete",function(){return n.onDialogDelete()})("formChange",function(r){return n.dialogForm.set(r)}),a()()),t&2&&(p(11),N(n.pages()),p(2),w("dialogType",n.dialogType())("selectedPage",n.selectedPage())("dialogForm",n.dialogForm())("isOpen",n.showDialog()))},dependencies:[E,F,q],styles:[".business-loan-container[_ngcontent-%COMP%]{padding:2rem}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--text-primary);margin-bottom:.5rem}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-bottom:1.5rem}.add-page-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:var(--button-primary);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}.add-page-btn[_ngcontent-%COMP%]:hover{background:var(--button-hover)}.add-page-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.pages-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem;margin-top:2rem}.page-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 16px var(--shadow-color);overflow:hidden;transition:transform .2s,box-shadow .2s;position:relative;cursor:grab}.page-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 24px var(--shadow-color)}.page-card[_ngcontent-%COMP%]:active{cursor:grabbing}.page-card.dragging[_ngcontent-%COMP%]{opacity:.5;transform:rotate(5deg);z-index:1000}.page-card.drag-over[_ngcontent-%COMP%]{border:2px dashed var(--button-primary);background:#667eea0d}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:1.5rem;border-bottom:1px solid var(--border-color);min-height:4rem}.page-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--text-primary);margin:0;font-weight:600;line-height:1.3;flex:1;word-wrap:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.page-header[_ngcontent-%COMP%]   .page-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0;margin-left:1rem}.page-content[_ngcontent-%COMP%]{padding:1.5rem}.page-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:1rem;line-height:1.5}.page-content[_ngcontent-%COMP%]   .page-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;font-size:.9rem}.page-content[_ngcontent-%COMP%]   .page-meta[_ngcontent-%COMP%]   .posthog-event[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   .page-meta[_ngcontent-%COMP%]   .posthog-event[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary)}.page-content[_ngcontent-%COMP%]   .page-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:var(--text-muted)}.action-btn[_ngcontent-%COMP%]{padding:.4rem;border:none;border-radius:6px;cursor:pointer;transition:background .2s;background:transparent}.action-btn.edit[_ngcontent-%COMP%]{color:var(--button-primary)}.action-btn.edit[_ngcontent-%COMP%]:hover{background:#667eea1a}.action-btn.delete[_ngcontent-%COMP%]{color:#dc3545}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#dc35451a}.action-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}"],changeDetection:0})};export{J as BusinessLoanComponent};
