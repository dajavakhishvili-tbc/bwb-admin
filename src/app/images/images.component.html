<div class="images-container">
  <div class="header">
    <h1>Images Management</h1>
    <p>Manage and organize your image assets with search and filtering capabilities.</p>
    <ib-image-upload (fileSelected)="onFileSelected($event)" />
  </div>
  
  <ib-image-filters
    [searchTerm]="searchTerm()"
    [sortBy]="sortBy()"
    [sortOrder]="sortOrder()"
    (searchChange)="updateSearch($event)"
    (sortByChange)="updateSort($event)"
    (sortOrderChange)="updateSortOrder($event)"
  />
  
  <div class="device-filter-chips">
    <div 
      class="device-filter-chip" 
      [class.selected]="isDeviceFilterSelected('web')"
      [class.device-web]="true"
      (click)="selectDeviceFilter('web')"
    >
      ğŸŒ Web
    </div>
    <div 
      class="device-filter-chip" 
      [class.selected]="isDeviceFilterSelected('mobile')"
      [class.device-mobile]="true"
      (click)="selectDeviceFilter('mobile')"
    >
      ğŸ“± Mobile
    </div>
  </div>
  
  @defer (on viewport) {
    <div class="images-grid">
      @for (image of paginatedImages(); track image.id) {
        <ib-image-card [image]="image" (imageDelete)="onImageDelete($event)"/>
      }
    </div>
  } @placeholder {
    <div class="loading-placeholder">
      <div class="placeholder-grid">
        @for (item of [1,2,3,4,5,6]; track item) {
          <div class="placeholder-card">
            <div class="placeholder-image"></div>
            <div class="placeholder-content">
              <div class="placeholder-line"></div>
              <div class="placeholder-line short"></div>
            </div>
          </div>
        }
      </div>
    </div>
  }
  
  @defer (on viewport) {
    <ib-image-pagination
      [currentPage]="currentPage()"
      [totalPages]="totalPages()"
      (previousPage)="previousPage()"
      (nextPage)="nextPage()"
    />
  } @placeholder {
    <div class="pagination-placeholder">
      <div class="placeholder-line"></div>
    </div>
  }
</div> 